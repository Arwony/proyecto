{% include 'base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'q_test.css' %}">
</head>
<body>
 <div class="bd">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>   
    <div class="nav">
        <button class="na" onclick= "qreq(-1)">&lt;</button>
    </div>
    <form action="{% url 'r' %}" method="POST">
        {% csrf_token %}
        {% for question in questions %}
            <div class="contenedor" id="{{forloop.counter0}}" hidden>
                    <h1 class = "pregunta">{{ question.question }} </h1>
                    {% for q in question.answers %}
                        <input type="radio" class="btn-check" name="{{question.question_number}}" id="success-outlined{{question.question_number}}{{forloop.counter0}}" autocomplete="off" value={{forloop.counter0}}>
                        <label class="btn btn-outline-success" for="success-outlined{{question.question_number}}{{forloop.counter0}}">{{q}}</label>
                    {% endfor %}
                    <button type="submit" class="comprobar">Enviar respuestas</button>
            </div>
        {% endfor %}
    </form>
    <div class="nav">
        <button class="na" onclick="qreq(1)">&gt;</button>
    </div>
 </div>
</body>

<script>
    let i = 0;
    let a = '{{n_q}}';
    document.getElementById(i).hidden = false;

    function qreq(m){
        if (i + m < 0 || i + m >= a){
            return;         
        }

        document.getElementById(i.toString()).hidden = true;
        document.getElementById((i + m).toString()).hidden = false;
        i+=m;
    }
</script>